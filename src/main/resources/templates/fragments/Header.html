<div class="container" th:fragment="header(authenticated)" xmlns="http://www.w3.org/1999/xhtml"
     xmlns:th="http://www.thymeleaf.org"
     xmlns:sec="http://www.thymeleaf.org/extras/spring-security5">
    <div class="f">
        <a href="/homepage" class="logo">Yelt</a>
    </div>
    <div class="s">
        <a href="#" class="watch_now">Watch now</a>
        <a href="#" class="enter_promo">Enter promo</a>
    </div>
    <div class="t">
        <form action="" method="get" class="search_form">
            <input name="s" placeholder="Search Yelt" class="search_input">
            <ul class="search_result_container">
            </ul>
            <button type="submit" class="search_button"></button>
        </form>
    </div>
    <th:block sec:authorize="!isAuthenticated()">
        <div class="fr">
            <a href="/login" class="signin">Log in</a>
        </div>
    </th:block>
    <th:block sec:authorize="isAuthenticated()">
        <div class="fr_authorized">
            <a href="#" class="watchlist"> Wacthlist</a>
            <th:block th:if="${authenticated.getAvatar() == null}">
                <div class="profile"
                     style="background: url('../../resources/person.png'); background-size: 45px;">
                    <ul class="submenu">
                        <li><a th:href="@{/user/{login}(login=${authenticated.getLogin()})}">Profile</a></li>
                        <li><a href="">Author</a></li>
                        <li><a href="">Archive</a></li>
                        <li><a href="">Tags</a></li>
                        <li>
                            <a href="/logout">logout</a>
                        </li>
                    </ul>
                </div>
            </th:block>
            <th:block th:unless="${authenticated.getAvatar() == null}">
                <div class="profile"
                     th:style="'background: url(' + @{../../db/users/photos/{avatar}(avatar=${authenticated.getAvatar()})} + '); background-size: 45px;'">
                    <ul class="submenu">
                        <li><a th:href="@{/user/{login}(login=${authenticated.getLogin()})}">Profile</a></li>
                        <li><a href="">Author</a></li>
                        <li><a href="">Archive</a></li>
                        <li><a href="">Tags</a></li>
                        <li>
                            <a href="/logout">logout</a>
                        </li>
                    </ul>
                </div>
            </th:block>

        </div>
</div>
</th:block>
</div>
</div>
